<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Gu√≠a Interactiva de Matem√°tica ‚Äì por Karina</title>
<style>
  body {
    margin: 0;
    font-family: "Poppins", sans-serif;
    background: #f4f7fb;
    display: flex;
    color: #222;
    height: 100vh;
  }
  aside {
    width: 240px;
    background: #007bff;
    color: white;
    padding: 20px;
    box-shadow: 2px 0 10px rgba(0,0,0,0.15);
    display: flex;
    flex-direction: column;
  }
  aside h1 {
    font-size: 1.2em;
    text-align: center;
    margin-bottom: 15px;
  }
  nav a {
    display: block;
    padding: 10px;
    margin: 5px 0;
    background: rgba(255,255,255,0.15);
    border-radius: 10px;
    text-decoration: none;
    color: white;
    transition: 0.3s;
  }
  nav a:hover, nav a.active {
    background: #ffffff33;
  }
  .progress-bar {
    height: 10px;
    background: #ffffff55;
    border-radius: 5px;
    margin-top: 10px;
  }
  .progress {
    height: 10px;
    background: #00ff88;
    border-radius: 5px;
    width: 0%;
    transition: width 0.3s ease-in-out;
  }
  main {
    flex: 1;
    padding: 30px;
    overflow-y: auto;
  }
  section {
    display: none;
    background: white;
    border-radius: 15px;
    padding: 25px;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
    animation: fade 0.4s ease;
  }
  section.active { display: block; }
  @keyframes fade { from {opacity:0;} to {opacity:1;} }
  h2 { color: #007bff; margin-top: 0; }
  h3 { color: #444; margin-top: 15px; }
  input, select {
    border: 1px solid #ccc;
    border-radius: 5px;
    padding: 5px 10px;
    margin: 4px;
  }
  button {
    background: #007bff;
    color: white;
    border: none;
    border-radius: 10px;
    padding: 8px 16px;
    margin-top: 10px;
    cursor: pointer;
    transition: 0.3s;
  }
  button:hover { background: #005bb5; }
  .feedback {
    margin-top: 10px;
    font-weight: bold;
  }
  .ok { color: #009933; }
  .bad { color: #cc0000; }
  .footer {
    text-align: center;
    font-size: 0.8em;
    color: #555;
    margin-top: 25px;
  }
</style>
</head>

<body>
<aside>
  <h1>üìò Gu√≠a de Karina</h1>
  <nav>
    <a href="#" class="active" data-target="cap1">1Ô∏è‚É£ Numeraci√≥n</a>
    <a href="#" data-target="cap2">2Ô∏è‚É£ Sumas y Restas</a>
    <a href="#" data-target="cap3">3Ô∏è‚É£ Comparaciones</a>
    <a href="#" data-target="cap4">4Ô∏è‚É£ Figuras</a>
    <a href="#" data-target="cap5">5Ô∏è‚É£ Longitudes</a>
    <a href="#" data-target="cap6">6Ô∏è‚É£ Ordinales</a>
    <a href="#" data-target="cap7">7Ô∏è‚É£ Pictogramas</a>
    <a href="#" data-target="cap8">üèÅ Final</a>
  </nav>
  <div class="progress-bar"><div class="progress" id="progress"></div></div>
</aside>

<main>
<!-- CAP√çTULOS 1‚Äì8 (igual que antes, omitido aqu√≠ por brevedad para no duplicar) -->
<!-- ... Pega las secciones de cap√≠tulos que ya tienes sin cambios ... -->

<div class="footer">Hecho con cari√±o por Karina üíô</div>
</main>

<script>
let progreso = JSON.parse(localStorage.getItem("progresoKarina")) || {
  cap1:false,cap2:false,cap3:false,cap4:false,cap5:false,cap6:false,cap7:false
};
const links = document.querySelectorAll("nav a");
const caps = document.querySelectorAll("section");
const progressBar = document.getElementById("progress");

function updateProgress(){
  const done = Object.values(progreso).filter(v=>v).length;
  const pct = Math.round(done/7*100);
  progressBar.style.width = pct + "%";
  if(done === 7){
    document.getElementById("cap8").classList.add("active");
  }
  localStorage.setItem("progresoKarina", JSON.stringify(progreso));
}

links.forEach(l=>{
  l.addEventListener("click", e=>{
    e.preventDefault();
    const target = l.dataset.target;
    // üîì MODO LIBRE ‚Äî se elimin√≥ el bloqueo por progreso
    links.forEach(a=>a.classList.remove("active"));
    caps.forEach(c=>c.classList.remove("active"));
    l.classList.add("active");
    document.getElementById(target).classList.add("active");
  });
});

updateProgress();

function okFeedback(id,msg="‚úÖ ¬°Excelente!") {
  const f=document.getElementById(id);
  f.textContent=msg; f.className="feedback ok";
}
function badFeedback(id,msg="‚ùå Revisa tus respuestas.") {
  const f=document.getElementById(id);
  f.textContent=msg; f.className="feedback bad";
}

function checkCap1(){
  const ok=(n1.value=="30"&&n2.value=="50"&&n3.value=="35"&&n4.value=="37"&&
            n5.value=="12"&&n6.value=="27"&&n7.value=="45"&&n8.value=="Impar");
  ok?(okFeedback("f1"),progreso.cap1=true):badFeedback("f1");updateProgress();
}
function checkCap2(){
  const ok=(s1.value=="7"&&s2.value=="7"&&s3.value=="8 + 2"&&s4.value=="4"&&
            s5.value=="Falso"&&s6.value=="Verdadero");
  ok?(okFeedback("f2"),progreso.cap2=true):badFeedback("f2");updateProgress();
}
function checkCap3(){
  const ok=(cmp1.value=="37"&&cmp2.value=="8"&&cmp3.value=="<"&&
            cmp4a.value=="14"&&cmp4b.value=="22"&&cmp4c.value=="35");
  ok?(okFeedback("f3"),progreso.cap3=true):badFeedback("f3");updateProgress();
}
function checkCap4(){
  const ok=(fig1.value=="Tri√°ngulo"&&fig2.value=="Esfera"&&fig3.value=="4"&&fig4.value=="3D");
  ok?(okFeedback("f4"),progreso.cap4=true):badFeedback("f4");updateProgress();
}
function checkCap5(){
  const ok=(lon1.value=="Ni√±o (1,30 m)"&&lon2.value=="L√°piz"&&
            lon3a.value=="8"&&lon3b.value=="15"&&lon3c.value=="20"&&
            lon4.value.toLowerCase()=="corto");
  ok?(okFeedback("f5"),progreso.cap5=true):badFeedback("f5");updateProgress();
}
function checkCap6(){
  const ok=(ord1.value=="Conejo"&&ord2.value=="Mar√≠a"&&
            ord3.value=="Segundo"&&ord4.value=="4");
  ok?(okFeedback("f6"),progreso.cap6=true):badFeedback("f6");updateProgress();
}
function checkCap7(){
  const ok=(pic1.value=="Uvas"&&pic2.value=="Pl√°tanos"&&pic3.value=="9"&&pic4.value=="3");
  ok?(okFeedback("f7"),progreso.cap7=true):badFeedback("f7");updateProgress();
}
function resetProgress(){
  localStorage.removeItem("progresoKarina");
  alert("Progreso reiniciado ‚úÖ");
  location.reload();
}
</script>
</body>
</html>